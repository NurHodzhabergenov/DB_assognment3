{% extends 'app/base.html' %}

{% block content %}
<h1>{{ action }} Caregiver</h1>
<form method="post">
    {% csrf_token %}
    <label>User:</label>
    <select name="caregiver_user" {% if action == 'Update' %}disabled{% endif %} required>
        {% for user in users %}
        <option value="{{ user.user_id }}" {% if caregiver.caregiver_user_id == user.user_id %}selected{% endif %}>
            {{ user.given_name }} {{ user.surname }} ({{ user.email }})
        </option>
        {% endfor %}
    </select>
    {% if action == 'Update' %}
    <input type="hidden" name="caregiver_user" value="{{ caregiver.caregiver_user_id }}">
    {% endif %}
    
    <label>Photo URL:</label>
    <input type="text" name="photo" value="{{ caregiver.photo|default:'' }}">
    
    <label>Gender:</label>
    <select name="gender" required>
        <option value="male" {% if caregiver.gender == 'male' %}selected{% endif %}>Male</option>
        <option value="female" {% if caregiver.gender == 'female' %}selected{% endif %}>Female</option>
    </select>
    
    <label>Caregiving Type:</label>
    <select name="caregiving_type" required>
        <option value="babysitter" {% if caregiver.caregiving_type == 'babysitter' %}selected{% endif %}>Babysitter</option>
        <option value="elderly_caregiver" {% if caregiver.caregiving_type == 'elderly_caregiver' %}selected{% endif %}>Elderly Caregiver</option>
        <option value="playmate" {% if caregiver.caregiving_type == 'playmate' %}selected{% endif %}>Playmate</option>
    </select>
    
    <label>Hourly Rate:</label>
    <input type="number" name="hourly_rate" step="0.01" value="{{ caregiver.hourly_rate|default:'' }}" required>
    
    <input type="submit" value="{{ action }} Caregiver">
    <a href="{% url 'caregiver_list' %}" class="btn">Cancel</a>
</form>
{% endblock %}

